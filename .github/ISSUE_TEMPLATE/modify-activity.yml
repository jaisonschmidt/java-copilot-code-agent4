---
name: ‚úèÔ∏è Modificar Atividade Existente
description: Modificar detalhes de uma atividade extracurricular existente
title: "[MODIFICAR ATIVIDADE]: "
labels: ["enhancement", "activity", "copilot-assignable"]
assignees: []
body:
  - type: markdown
    attributes:
      value: |
        ## ‚úèÔ∏è Solicita√ß√£o de Modifica√ß√£o de Atividade
        Use este formul√°rio para solicitar mudan√ßas em uma atividade existente.
        Campos marcados com * s√£o obrigat√≥rios.
        
  - type: input
    id: activity-name
    attributes:
      label: Nome da Atividade a Modificar *
      description: Nome exato da atividade existente que deve ser modificada
      placeholder: "Ex: Chess Club"
    validations:
      required: true

  - type: checkboxes
    id: fields-to-modify
    attributes:
      label: O que deseja modificar? *
      description: Selecione todos os campos que devem ser alterados
      options:
        - label: Descri√ß√£o
        - label: Hor√°rio (dias/horas)
        - label: Capacidade m√°xima
        - label: Tipo/Categoria
        - label: Professor respons√°vel

  - type: textarea
    id: new-description
    attributes:
      label: Nova Descri√ß√£o
      description: Se estiver modificando a descri√ß√£o, forne√ßa o novo texto completo aqui
      placeholder: "Nova descri√ß√£o da atividade..."

  - type: checkboxes
    id: new-days
    attributes:
      label: Novos Dias da Semana
      description: Se estiver modificando os dias, selecione os novos dias
      options:
        - label: Segunda-feira (Monday)
        - label: Ter√ßa-feira (Tuesday)
        - label: Quarta-feira (Wednesday)
        - label: Quinta-feira (Thursday)
        - label: Sexta-feira (Friday)
        - label: S√°bado (Saturday)
        - label: Domingo (Sunday)

  - type: input
    id: new-start-time
    attributes:
      label: Novo Hor√°rio de In√≠cio
      description: Se estiver modificando o hor√°rio, forne√ßa o novo hor√°rio de in√≠cio (HH:MM)
      placeholder: "Ex: 16:00"

  - type: input
    id: new-end-time
    attributes:
      label: Novo Hor√°rio de T√©rmino
      description: Se estiver modificando o hor√°rio, forne√ßa o novo hor√°rio de t√©rmino (HH:MM)
      placeholder: "Ex: 18:00"

  - type: input
    id: new-capacity
    attributes:
      label: Nova Capacidade M√°xima
      description: Se estiver modificando a capacidade, forne√ßa o novo n√∫mero m√°ximo de participantes
      placeholder: "Ex: 20"

  - type: dropdown
    id: new-type
    attributes:
      label: Novo Tipo de Atividade
      description: Se estiver modificando o tipo, selecione a nova categoria
      options:
        - ""
        - SPORTS (Esportes)
        - ARTS (Artes)
        - MUSIC (M√∫sica)
        - ACADEMIC (Acad√™mico)
        - TECHNOLOGY (Tecnologia)
        - COMMUNITY (Comunidade/Servi√ßo)
        - OTHER (Outro)

  - type: input
    id: new-teacher
    attributes:
      label: Novo Professor Respons√°vel
      description: Se estiver modificando o respons√°vel, forne√ßa o username do novo professor
      placeholder: "Ex: teacher.chen"

  - type: textarea
    id: reason
    attributes:
      label: Motivo da Modifica√ß√£o *
      description: Explique por que essas mudan√ßas s√£o necess√°rias
      placeholder: "Ex: Precisamos aumentar a capacidade devido √† alta demanda..."
    validations:
      required: true

  - type: dropdown
    id: handle-participants
    attributes:
      label: Como tratar participantes inscritos? *
      description: Se a modifica√ß√£o afetar a capacidade ou hor√°rio
      options:
        - Manter todos os participantes inscritos
        - Notificar e pedir confirma√ß√£o (manual)
        - Remover inscri√ß√µes e permitir nova inscri√ß√£o
    validations:
      required: true

  - type: checkboxes
    id: acceptance-criteria
    attributes:
      label: Crit√©rios de Aceita√ß√£o
      description: Marque quando o agente completar estas tarefas
      options:
        - label: Modifica√ß√µes aplicadas no banco de dados
        - label: Interface web reflete as mudan√ßas corretamente
        - label: Participantes existentes tratados conforme especificado
        - label: Filtros e buscas funcionam com os novos valores
        - label: Testes unit√°rios atualizados e passando

  - type: markdown
    attributes:
      value: |
        ---
        ### üìù Notas para o Agente de Codifica√ß√£o
        
        **Dicas de Implementa√ß√£o:**
        - Localize a atividade no banco de dados pelo nome (campo @Id)
        - Use o repository pattern para atualizar: `ActivityRepository.save()`
        - Se o nome mudar, considere implica√ß√µes no ID (o nome √© o @Id)
        - Valide que mudan√ßas n√£o violam regras de neg√≥cio
        - Se capacidade diminuir, valide contra participantes atuais
        - Execute testes: `mvn test`
        
        **Arquivos Relevantes:**
        - `src/main/java/com/mergingtonhigh/schoolmanagement/domain/entities/Activity.java`
        - `src/main/java/com/mergingtonhigh/schoolmanagement/application/usecases/ActivityUseCase.java`
        - `src/main/java/com/mergingtonhigh/schoolmanagement/domain/repositories/ActivityRepository.java`
        - `src/main/java/com/mergingtonhigh/schoolmanagement/infrastructure/persistence/ActivityRepositoryImpl.java`
