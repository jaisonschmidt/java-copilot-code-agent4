---
name: üóëÔ∏è Remover Atividade
description: Remover uma atividade extracurricular do sistema
title: "[REMOVER ATIVIDADE]: "
labels: ["enhancement", "activity", "copilot-assignable"]
assignees: []
body:
  - type: markdown
    attributes:
      value: |
        ## üóëÔ∏è Solicita√ß√£o de Remo√ß√£o de Atividade
        Use este formul√°rio para solicitar a remo√ß√£o de uma atividade do sistema.
        **ATEN√á√ÉO:** Esta a√ß√£o pode afetar estudantes inscritos.
        
  - type: input
    id: activity-name
    attributes:
      label: Nome da Atividade a Remover *
      description: Nome exato da atividade que deve ser removida
      placeholder: "Ex: Chess Club"
    validations:
      required: true

  - type: textarea
    id: reason
    attributes:
      label: Motivo da Remo√ß√£o *
      description: Explique por que esta atividade deve ser removida
      placeholder: "Ex: Atividade descontinuada devido √† falta de participantes..."
    validations:
      required: true

  - type: dropdown
    id: handle-participants
    attributes:
      label: Como tratar estudantes inscritos? *
      description: Escolha como lidar com os participantes atuais
      options:
        - Notificar estudantes antes de remover (recomendado)
        - Remover imediatamente sem notifica√ß√£o
        - Transferir para outra atividade similar
    validations:
      required: true

  - type: input
    id: alternative-activity
    attributes:
      label: Atividade Alternativa
      description: Se escolheu "transferir", especifique o nome da atividade alternativa
      placeholder: "Ex: Advanced Chess Club"

  - type: dropdown
    id: removal-type
    attributes:
      label: Tipo de Remo√ß√£o *
      description: Remover permanentemente ou apenas desativar?
      options:
        - Remover permanentemente do banco de dados
        - Desativar (manter hist√≥rico, ocultar da interface)
    validations:
      required: true

  - type: input
    id: effective-date
    attributes:
      label: Data Efetiva
      description: Quando a remo√ß√£o deve ser efetiva? (Deixe em branco para imediato)
      placeholder: "Ex: 2024-12-31"

  - type: textarea
    id: notification-message
    attributes:
      label: Mensagem de Notifica√ß√£o
      description: Se os estudantes devem ser notificados, forne√ßa a mensagem
      placeholder: "Ex: A atividade Chess Club ser√° descontinuada a partir de..."

  - type: checkboxes
    id: pre-removal-checks
    attributes:
      label: Verifica√ß√µes Pr√©-Remo√ß√£o *
      description: Confirme que voc√™ considerou estes pontos
      options:
        - label: Verifiquei o n√∫mero atual de participantes inscritos
        - label: Informei os estudantes e/ou pais sobre a remo√ß√£o
        - label: Documentei o motivo da remo√ß√£o para registros escolares
        - label: Considerei oferecer atividades alternativas
    validations:
      required: true

  - type: checkboxes
    id: acceptance-criteria
    attributes:
      label: Crit√©rios de Aceita√ß√£o
      description: Marque quando o agente completar estas tarefas
      options:
        - label: Atividade removida ou desativada do banco de dados
        - label: Atividade n√£o aparece mais na interface web
        - label: Participantes tratados conforme especificado
        - label: Logs de auditoria registram a remo√ß√£o
        - label: Testes verificam que a atividade n√£o existe mais

  - type: markdown
    attributes:
      value: |
        ---
        ### üìù Notas para o Agente de Codifica√ß√£o
        
        **Dicas de Implementa√ß√£o:**
        - Use `ActivityRepository.delete()` para remo√ß√£o permanente
        - Para desativa√ß√£o, adicione um campo `active` ou `status` se n√£o existir
        - Considere criar um backup antes de remover
        - Se houver participantes, valide a estrat√©gia de tratamento
        - Registre a a√ß√£o em logs para auditoria
        - Execute testes: `mvn test`
        
        **Arquivos Relevantes:**
        - `src/main/java/com/mergingtonhigh/schoolmanagement/domain/entities/Activity.java`
        - `src/main/java/com/mergingtonhigh/schoolmanagement/domain/repositories/ActivityRepository.java`
        - `src/main/java/com/mergingtonhigh/schoolmanagement/application/usecases/ActivityUseCase.java`
        - `src/main/java/com/mergingtonhigh/schoolmanagement/infrastructure/persistence/ActivityRepositoryImpl.java`
        
        **Considera√ß√µes de Seguran√ßa:**
        - Verifique permiss√µes do professor solicitante
        - Mantenha hist√≥rico de atividades removidas para compliance
        - Considere implica√ß√µes de LGPD/GDPR para dados dos participantes
